[gd_scene load_steps=9 format=3 uid="uid://qlmh4im4lm3e"]

[ext_resource type="PackedScene" uid="uid://bnb0pv6w5eu5c" path="res://controls/player.tscn" id="1_ac2d2"]
[ext_resource type="PackedScene" uid="uid://bbmsdtcxce2yg" path="res://controls/camera.tscn" id="2_o2117"]
[ext_resource type="Shader" path="res://fluidsim/shader/heightMap.gdshader" id="4_c6tki"]
[ext_resource type="Texture2D" uid="uid://bj6ulruu1udmp" path="res://fluidsim/gameoflife.jpg" id="5_bibtj"]
[ext_resource type="Script" path="res://fluidsim/gol.gd" id="6_ea1n8"]

[sub_resource type="ViewportTexture" id="ViewportTexture_t41aw"]
viewport_path = NodePath("SubViewport")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vd5us"]
resource_local_to_scene = true
render_priority = 0
shader = ExtResource("4_c6tki")
shader_parameter/heightmap = SubResource("ViewportTexture_t41aw")

[sub_resource type="PlaneMesh" id="PlaneMesh_yt402"]
material = SubResource("ShaderMaterial_vd5us")
size = Vector2(64, 64)
subdivide_width = 256
subdivide_depth = 256

[node name="Main" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.0794594, 0.862373, -0.5, -0.612373, 0.353554, 0.707106, 0.786566, 0.362373, 0.5, -0.18211, 4.0712, 0.141829)
shadow_enabled = true

[node name="Player" parent="." instance=ExtResource("1_ac2d2")]

[node name="CameraPivot" parent="Player" instance=ExtResource("2_o2117")]

[node name="SubViewport" type="SubViewport" parent="."]
disable_3d = true

[node name="TextureRect" type="TextureRect" parent="SubViewport"]
offset_right = 512.0
offset_bottom = 512.0
texture = ExtResource("5_bibtj")
script = ExtResource("6_ea1n8")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="."]
mesh = SubResource("PlaneMesh_yt402")
skeleton = NodePath("")
